// Version 1.0.6 cartogram-chart - https://github.com/vasturiano/cartogram-chart
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.Cartogram=t()}(this,function(){"use strict";var r="http://www.w3.org/1999/xhtml",i={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function o(n){var t=n+="",e=t.indexOf(":");return 0<=e&&"xmlns"!==(t=n.slice(0,e))&&(n=n.slice(e+1)),i.hasOwnProperty(t)?{space:i[t],local:n}:n}function u(n){var t=o(n);return(t.local?function(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}:function(e){return function(){var n=this.ownerDocument,t=this.namespaceURI;return t===r&&n.documentElement.namespaceURI===r?n.createElement(e):n.createElementNS(t,e)}})(t)}function t(){}function p(n){return null==n?t:function(){return this.querySelector(n)}}function e(){return[]}function y(n){return null==n?e:function(){return this.querySelectorAll(n)}}var n=function(n){return function(){return this.matches(n)}};if("undefined"!=typeof document){var a=document.documentElement;if(!a.matches){var l=a.webkitMatchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector;n=function(n){return function(){return l.call(this,n)}}}}var f=n;function c(n){return new Array(n.length)}function d(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}d.prototype={constructor:d,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var v="$";function x(n,t,e,r,i,o){for(var u,a=0,l=t.length,c=o.length;a<c;++a)(u=t[a])?(u.__data__=o[a],r[a]=u):e[a]=new d(n,o[a]);for(;a<l;++a)(u=t[a])&&(i[a]=u)}function E(n,t,e,r,i,o,u){var a,l,c,f={},s=t.length,h=o.length,p=new Array(s);for(a=0;a<s;++a)(l=t[a])&&(p[a]=c=v+u.call(l,l.__data__,a,t),c in f?i[a]=l:f[c]=l);for(a=0;a<h;++a)(l=f[c=v+u.call(n,o[a],a,o)])?((r[a]=l).__data__=o[a],f[c]=null):e[a]=new d(n,o[a]);for(a=0;a<s;++a)(l=t[a])&&f[p[a]]===l&&(i[a]=l)}function s(n,t){return n<t?-1:t<n?1:t<=n?0:NaN}function h(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function b(n,t){return n.style.getPropertyValue(t)||h(n).getComputedStyle(n,null).getPropertyValue(t)}function g(n){return n.trim().split(/^|\s+/)}function m(n){return n.classList||new w(n)}function w(n){this._node=n,this._names=g(n.getAttribute("class")||"")}function _(n,t){for(var e=m(n),r=-1,i=t.length;++r<i;)e.add(t[r])}function S(n,t){for(var e=m(n),r=-1,i=t.length;++r<i;)e.remove(t[r])}function M(){this.textContent=""}function N(){this.innerHTML=""}function k(){this.nextSibling&&this.parentNode.appendChild(this)}function A(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function P(){return null}function j(){var n=this.parentNode;n&&n.removeChild(this)}function O(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function C(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}w.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return 0<=this._names.indexOf(n)}};var q={},T=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(q={mouseenter:"mouseover",mouseleave:"mouseout"}));function I(e,n,t){return e=L(e,n,t),function(n){var t=n.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||e.call(this,n)}}function L(e,r,i){return function(n){var t=T;T=n;try{e.call(this,this.__data__,r,i)}finally{T=t}}}function z(o){return function(){var n=this.__on;if(n){for(var t,e=0,r=-1,i=n.length;e<i;++e)t=n[e],o.type&&t.type!==o.type||t.name!==o.name?n[++r]=t:this.removeEventListener(t.type,t.listener,t.capture);++r?n.length=r:delete this.__on}}}function R(l,c,f){var s=q.hasOwnProperty(l.type)?I:L;return function(n,t,e){var r,i=this.__on,o=s(c,t,e);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===l.type&&r.name===l.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=f),void(r.value=c);this.addEventListener(l.type,o,f),r={type:l.type,name:l.name,value:c,listener:o,capture:f},i?i.push(r):this.__on=[r]}}function F(n,t,e){var r=h(n),i=r.CustomEvent;"function"==typeof i?i=new i(t,e):(i=r.document.createEvent("Event"),e?(i.initEvent(t,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(t,!1,!1)),n.dispatchEvent(i)}var X=[null];function D(n,t){this._groups=n,this._parents=t}function B(){return new D([[document.documentElement]],X)}function V(n){return"string"==typeof n?new D([[document.querySelector(n)]],[document.documentElement]):new D([[n]],X)}D.prototype=B.prototype={constructor:D,select:function(n){"function"!=typeof n&&(n=p(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=t[i],l=a.length,c=r[i]=new Array(l),f=0;f<l;++f)(o=a[f])&&(u=n.call(o,o.__data__,f,a))&&("__data__"in o&&(u.__data__=o.__data__),c[f]=u);return new D(r,this._parents)},selectAll:function(n){"function"!=typeof n&&(n=y(n));for(var t=this._groups,e=t.length,r=[],i=[],o=0;o<e;++o)for(var u,a=t[o],l=a.length,c=0;c<l;++c)(u=a[c])&&(r.push(n.call(u,u.__data__,c,a)),i.push(u));return new D(r,i)},filter:function(n){"function"!=typeof n&&(n=f(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var o,u=t[i],a=u.length,l=r[i]=[],c=0;c<a;++c)(o=u[c])&&n.call(o,o.__data__,c,u)&&l.push(o);return new D(r,this._parents)},data:function(n,t){if(!n)return d=new Array(this.size()),f=-1,this.each(function(n){d[++f]=n}),d;var e,r=t?E:x,i=this._parents,o=this._groups;"function"!=typeof n&&(e=n,n=function(){return e});for(var u=o.length,a=new Array(u),l=new Array(u),c=new Array(u),f=0;f<u;++f){var s=i[f],h=o[f],p=h.length,d=n.call(s,s&&s.__data__,f,i),v=d.length,g=l[f]=new Array(v),y=a[f]=new Array(v);r(s,h,g,y,c[f]=new Array(p),d,t);for(var m,w,_=0,b=0;_<v;++_)if(m=g[_]){for(b<=_&&(b=_+1);!(w=y[b])&&++b<v;);m._next=w||null}}return(a=new D(a,i))._enter=l,a._exit=c,a},enter:function(){return new D(this._enter||this._groups.map(c),this._parents)},exit:function(){return new D(this._exit||this._groups.map(c),this._parents)},merge:function(n){for(var t=this._groups,e=n._groups,r=t.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var l,c=t[a],f=e[a],s=c.length,h=u[a]=new Array(s),p=0;p<s;++p)(l=c[p]||f[p])&&(h[p]=l);for(;a<r;++a)u[a]=t[a];return new D(u,this._parents)},order:function(){for(var n=this._groups,t=-1,e=n.length;++t<e;)for(var r,i=n[t],o=i.length-1,u=i[o];0<=--o;)(r=i[o])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(e){function n(n,t){return n&&t?e(n.__data__,t.__data__):!n-!t}e||(e=s);for(var t=this._groups,r=t.length,i=new Array(r),o=0;o<r;++o){for(var u,a=t[o],l=a.length,c=i[o]=new Array(l),f=0;f<l;++f)(u=a[f])&&(c[f]=u);c.sort(n)}return new D(i,this._parents).order()},call:function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function(){var n=new Array(this.size()),t=-1;return this.each(function(){n[++t]=this}),n},node:function(){for(var n=this._groups,t=0,e=n.length;t<e;++t)for(var r=n[t],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){var n=0;return this.each(function(){++n}),n},empty:function(){return!this.node()},each:function(n){for(var t=this._groups,e=0,r=t.length;e<r;++e)for(var i,o=t[e],u=0,a=o.length;u<a;++u)(i=o[u])&&n.call(i,i.__data__,u,o);return this},attr:function(n,t){var e=o(n);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==t?e.local?function(n){return function(){this.removeAttributeNS(n.space,n.local)}}:function(n){return function(){this.removeAttribute(n)}}:"function"==typeof t?e.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:e.local?function(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}:function(n,t){return function(){this.setAttribute(n,t)}})(e,t))},style:function(n,t,e){return 1<arguments.length?this.each((null==t?function(n){return function(){this.style.removeProperty(n)}}:"function"==typeof t?function(t,e,r){return function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}}:function(n,t,e){return function(){this.style.setProperty(n,t,e)}})(n,t,null==e?"":e)):b(this.node(),n)},property:function(n,t){return 1<arguments.length?this.each((null==t?function(n){return function(){delete this[n]}}:"function"==typeof t?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(n,t){return function(){this[n]=t}})(n,t)):this.node()[n]},classed:function(n,t){var e=g(n+"");if(arguments.length<2){for(var r=m(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof t?function(n,t){return function(){(t.apply(this,arguments)?_:S)(this,n)}}:t?function(n){return function(){_(this,n)}}:function(n){return function(){S(this,n)}})(e,t))},text:function(n){return arguments.length?this.each(null==n?M:("function"==typeof n?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(n){return function(){this.textContent=n}})(n)):this.node().textContent},html:function(n){return arguments.length?this.each(null==n?N:("function"==typeof n?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(n){return function(){this.innerHTML=n}})(n)):this.node().innerHTML},raise:function(){return this.each(k)},lower:function(){return this.each(A)},append:function(n){var t="function"==typeof n?n:u(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(n,t){var e="function"==typeof n?n:u(n),r=null==t?P:"function"==typeof t?t:p(t);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(j)},clone:function(n){return this.select(n?C:O)},datum:function(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function(n,t,e){var r,i,o=(n+"").trim().split(/^|\s+/).map(function(n){var t="",e=n.indexOf(".");return 0<=e&&(t=n.slice(e+1),n=n.slice(0,e)),{type:n,name:t}}),u=o.length;if(!(arguments.length<2)){for(a=t?R:z,null==e&&(e=!1),r=0;r<u;++r)this.each(a(o[r],t,e));return this}var a=this.node().__on;if(a)for(var l,c=0,f=a.length;c<f;++c)for(r=0,l=a[c];r<u;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(n,t){return this.each(("function"==typeof t?function(n,t){return function(){return F(this,n,t.apply(this,arguments))}}:function(n,t){return function(){return F(this,n,t)}})(n,t))}};var Y={value:function(){}};function $(){for(var n,t=0,e=arguments.length,r={};t<e;++t){if(!(n=arguments[t]+"")||n in r)throw new Error("illegal type: "+n);r[n]=[]}return new H(r)}function H(n){this._=n}function U(n,t){for(var e,r=0,i=n.length;r<i;++r)if((e=n[r]).name===t)return e.value}function J(n,t,e){for(var r=0,i=n.length;r<i;++r)if(n[r].name===t){n[r]=Y,n=n.slice(0,r).concat(n.slice(r+1));break}return null!=e&&n.push({name:t,value:e}),n}H.prototype=$.prototype={constructor:H,on:function(n,t){var e,r,i=this._,o=(r=i,(n+"").trim().split(/^|\s+/).map(function(n){var t="",e=n.indexOf(".");if(0<=e&&(t=n.slice(e+1),n=n.slice(0,e)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:t}})),u=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++u<a;)if(e=(n=o[u]).type)i[e]=J(i[e],n.name,t);else if(null==t)for(e in i)i[e]=J(i[e],n.name,null);return this}for(;++u<a;)if((e=(n=o[u]).type)&&(e=U(i[e],n.name)))return e},copy:function(){var n={},t=this._;for(var e in t)n[e]=t[e].slice();return new H(n)},call:function(n,t){if(0<(e=arguments.length-2))for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(o=0,e=(r=this._[n]).length;o<e;++o)r[o].value.apply(t,i)},apply:function(n,t,e){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var r=this._[n],i=0,o=r.length;i<o;++i)r[i].value.apply(t,e)}};var G,W,K=0,Q=0,Z=0,nn=1e3,tn=0,en=0,rn=0,on="object"==typeof performance&&performance.now?performance:Date,un="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function an(){return en||(un(ln),en=on.now()+rn)}function ln(){en=0}function cn(){this._call=this._time=this._next=null}function fn(n,t,e){var r=new cn;return r.restart(n,t,e),r}function sn(){en=(tn=on.now())+rn,K=Q=0;try{!function(){an(),++K;for(var n,t=G;t;)0<=(n=en-t._time)&&t._call.call(null,n),t=t._next;--K}()}finally{K=0,function(){var n,t,e=G,r=1/0;for(;e;)e=e._call?(r>e._time&&(r=e._time),(n=e)._next):(t=e._next,e._next=null,n?n._next=t:G=t);W=n,pn(r)}(),en=0}}function hn(){var n=on.now(),t=n-tn;nn<t&&(rn-=t,tn=n)}function pn(n){K||(Q&&(Q=clearTimeout(Q)),24<n-en?(n<1/0&&(Q=setTimeout(sn,n-on.now()-rn)),Z&&(Z=clearInterval(Z))):(Z||(tn=on.now(),Z=setInterval(hn,nn)),K=1,un(sn)))}function dn(t,e,n){var r=new cn;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r}cn.prototype=fn.prototype={constructor:cn,restart:function(n,t,e){if("function"!=typeof n)throw new TypeError("callback is not a function");e=(null==e?an():+e)+(null==t?0:+t),this._next||W===this||(W?W._next=this:G=this,W=this),this._call=n,this._time=e,pn()},stop:function(){this._call&&(this._call=null,this._time=1/0,pn())}};var vn=$("start","end","interrupt"),gn=[],yn=0,mn=1,wn=2,_n=3,bn=4,xn=5,En=6;function Sn(n,t,e,r,i,o){var u=n.__transition;if(u){if(e in u)return}else n.__transition={};!function(o,u,a){var l,c=o.__transition;function f(n){var t,e,r,i;if(a.state!==mn)return h();for(t in c)if((i=c[t]).name===a.name){if(i.state===_n)return dn(f);i.state===bn?(i.state=En,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete c[t]):+t<u&&(i.state=En,i.timer.stop(),delete c[t])}if(dn(function(){a.state===_n&&(a.state=bn,a.timer.restart(s,a.delay,a.time),s(n))}),a.state=wn,a.on.call("start",o,o.__data__,a.index,a.group),a.state===wn){for(a.state=_n,l=new Array(r=a.tween.length),t=0,e=-1;t<r;++t)(i=a.tween[t].value.call(o,o.__data__,a.index,a.group))&&(l[++e]=i);l.length=e+1}}function s(n){for(var t=n<a.duration?a.ease.call(null,n/a.duration):(a.timer.restart(h),a.state=xn,1),e=-1,r=l.length;++e<r;)l[e].call(null,t);a.state===xn&&(a.on.call("end",o,o.__data__,a.index,a.group),h())}function h(){for(var n in a.state=En,a.timer.stop(),delete c[u],c)return;delete o.__transition}(c[u]=a).timer=fn(function(n){a.state=mn,a.timer.restart(f,a.delay,a.time),a.delay<=n&&f(n-a.delay)},0,a.time)}(n,e,{name:t,index:r,group:i,on:vn,tween:gn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:yn})}function Mn(n,t){var e=kn(n,t);if(e.state>yn)throw new Error("too late; already scheduled");return e}function Nn(n,t){var e=kn(n,t);if(e.state>wn)throw new Error("too late; already started");return e}function kn(n,t){var e=n.__transition;if(!e||!(e=e[t]))throw new Error("transition not found");return e}function An(n,t,e){n.prototype=t.prototype=e,e.constructor=n}function Pn(n,t){var e=Object.create(n.prototype);for(var r in t)e[r]=t[r];return e}function jn(){}var On=1/.7,Cn="\\s*([+-]?\\d+)\\s*",qn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",In=/^#([0-9a-f]{3})$/,Ln=/^#([0-9a-f]{6})$/,zn=new RegExp("^rgb\\("+[Cn,Cn,Cn]+"\\)$"),Rn=new RegExp("^rgb\\("+[Tn,Tn,Tn]+"\\)$"),Fn=new RegExp("^rgba\\("+[Cn,Cn,Cn,qn]+"\\)$"),Xn=new RegExp("^rgba\\("+[Tn,Tn,Tn,qn]+"\\)$"),Dn=new RegExp("^hsl\\("+[qn,Tn,Tn]+"\\)$"),Bn=new RegExp("^hsla\\("+[qn,Tn,Tn,qn]+"\\)$"),Vn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Yn(n){var t;return n=(n+"").trim().toLowerCase(),(t=In.exec(n))?new Gn((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=Ln.exec(n))?$n(parseInt(t[1],16)):(t=zn.exec(n))?new Gn(t[1],t[2],t[3],1):(t=Rn.exec(n))?new Gn(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Fn.exec(n))?Hn(t[1],t[2],t[3],t[4]):(t=Xn.exec(n))?Hn(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Dn.exec(n))?Kn(t[1],t[2]/100,t[3]/100,1):(t=Bn.exec(n))?Kn(t[1],t[2]/100,t[3]/100,t[4]):Vn.hasOwnProperty(n)?$n(Vn[n]):"transparent"===n?new Gn(NaN,NaN,NaN,0):null}function $n(n){return new Gn(n>>16&255,n>>8&255,255&n,1)}function Hn(n,t,e,r){return r<=0&&(n=t=e=NaN),new Gn(n,t,e,r)}function Un(n){return n instanceof jn||(n=Yn(n)),n?new Gn((n=n.rgb()).r,n.g,n.b,n.opacity):new Gn}function Jn(n,t,e,r){return 1===arguments.length?Un(n):new Gn(n,t,e,null==r?1:r)}function Gn(n,t,e,r){this.r=+n,this.g=+t,this.b=+e,this.opacity=+r}function Wn(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function Kn(n,t,e,r){return r<=0?n=t=e=NaN:e<=0||1<=e?n=t=NaN:t<=0&&(n=NaN),new Qn(n,t,e,r)}function Qn(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}function Zn(n,t,e){return 255*(n<60?t+(e-t)*n/60:n<180?e:n<240?t+(e-t)*(240-n)/60:t)}An(jn,Yn,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),An(Gn,Jn,Pn(jn,{brighter:function(n){return n=null==n?On:Math.pow(On,n),new Gn(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Gn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Wn(this.r)+Wn(this.g)+Wn(this.b)},toString:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}})),An(Qn,function(n,t,e,r){return 1===arguments.length?function(n){if(n instanceof Qn)return new Qn(n.h,n.s,n.l,n.opacity);if(n instanceof jn||(n=Yn(n)),!n)return new Qn;if(n instanceof Qn)return n;var t=(n=n.rgb()).r/255,e=n.g/255,r=n.b/255,i=Math.min(t,e,r),o=Math.max(t,e,r),u=NaN,a=o-i,l=(o+i)/2;return a?(u=t===o?(e-r)/a+6*(e<r):e===o?(r-t)/a+2:(t-e)/a+4,a/=l<.5?o+i:2-o-i,u*=60):a=0<l&&l<1?0:u,new Qn(u,a,l,n.opacity)}(n):new Qn(n,t,e,null==r?1:r)},Pn(jn,{brighter:function(n){return n=null==n?On:Math.pow(On,n),new Qn(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Qn(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*t,i=2*e-r;return new Gn(Zn(240<=n?n-240:n+120,i,r),Zn(n,i,r),Zn(n<120?n+240:n-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var nt=Math.PI/180,tt=180/Math.PI,et=.96422,rt=1,it=.82521,ot=4/29,ut=6/29,at=3*ut*ut,lt=ut*ut*ut;function ct(n){if(n instanceof ft)return new ft(n.l,n.a,n.b,n.opacity);if(n instanceof vt){if(isNaN(n.h))return new ft(n.l,0,0,n.opacity);var t=n.h*nt;return new ft(n.l,Math.cos(t)*n.c,Math.sin(t)*n.c,n.opacity)}n instanceof Gn||(n=Un(n));var e,r,i=dt(n.r),o=dt(n.g),u=dt(n.b),a=st((.2225045*i+.7168786*o+.0606169*u)/rt);return i===o&&o===u?e=r=a:(e=st((.4360747*i+.3850649*o+.1430804*u)/et),r=st((.0139322*i+.0971045*o+.7141733*u)/it)),new ft(116*a-16,500*(e-a),200*(a-r),n.opacity)}function ft(n,t,e,r){this.l=+n,this.a=+t,this.b=+e,this.opacity=+r}function st(n){return lt<n?Math.pow(n,1/3):n/at+ot}function ht(n){return ut<n?n*n*n:at*(n-ot)}function pt(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function dt(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function vt(n,t,e,r){this.h=+n,this.c=+t,this.l=+e,this.opacity=+r}An(ft,function(n,t,e,r){return 1===arguments.length?ct(n):new ft(n,t,e,null==r?1:r)},Pn(jn,{brighter:function(n){return new ft(this.l+18*(null==n?1:n),this.a,this.b,this.opacity)},darker:function(n){return new ft(this.l-18*(null==n?1:n),this.a,this.b,this.opacity)},rgb:function(){var n=(this.l+16)/116,t=isNaN(this.a)?n:n+this.a/500,e=isNaN(this.b)?n:n-this.b/200;return new Gn(pt(3.1338561*(t=et*ht(t))-1.6168667*(n=rt*ht(n))-.4906146*(e=it*ht(e))),pt(-.9787684*t+1.9161415*n+.033454*e),pt(.0719453*t-.2289914*n+1.4052427*e),this.opacity)}})),An(vt,function(n,t,e,r){return 1===arguments.length?function(n){if(n instanceof vt)return new vt(n.h,n.c,n.l,n.opacity);if(n instanceof ft||(n=ct(n)),0===n.a&&0===n.b)return new vt(NaN,0,n.l,n.opacity);var t=Math.atan2(n.b,n.a)*tt;return new vt(t<0?t+360:t,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}(n):new vt(n,t,e,null==r?1:r)},Pn(jn,{brighter:function(n){return new vt(this.h,this.c,this.l+18*(null==n?1:n),this.opacity)},darker:function(n){return new vt(this.h,this.c,this.l-18*(null==n?1:n),this.opacity)},rgb:function(){return ct(this).rgb()}}));var gt=1.78277,yt=-.29227,mt=-.90649,wt=1.97294,_t=wt*mt,bt=wt*gt,xt=gt*yt- -.14861*mt;function Et(n,t,e,r){this.h=+n,this.s=+t,this.l=+e,this.opacity=+r}function St(n){return function(){return n}}function Mt(o){return 1==(o=+o)?Nt:function(n,t){return t-n?(e=n,r=t,i=o,e=Math.pow(e,i),r=Math.pow(r,i)-e,i=1/i,function(n){return Math.pow(e+n*r,i)}):St(isNaN(n)?t:n);var e,r,i}}function Nt(n,t){var e,r,i=t-n;return i?(e=n,r=i,function(n){return e+n*r}):St(isNaN(n)?t:n)}An(Et,function(n,t,e,r){return 1===arguments.length?function(n){if(n instanceof Et)return new Et(n.h,n.s,n.l,n.opacity);n instanceof Gn||(n=Un(n));var t=n.r/255,e=n.g/255,r=n.b/255,i=(xt*r+_t*t-bt*e)/(xt+_t-bt),o=r-i,u=(wt*(e-i)-yt*o)/mt,a=Math.sqrt(u*u+o*o)/(wt*i*(1-i)),l=a?Math.atan2(u,o)*tt-120:NaN;return new Et(l<0?l+360:l,a,i,n.opacity)}(n):new Et(n,t,e,null==r?1:r)},Pn(jn,{brighter:function(n){return n=null==n?On:Math.pow(On,n),new Et(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Et(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=isNaN(this.h)?0:(this.h+120)*nt,t=+this.l,e=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(n),i=Math.sin(n);return new Gn(255*(t+e*(-.14861*r+gt*i)),255*(t+e*(yt*r+mt*i)),255*(t+e*(wt*r)),this.opacity)}}));var kt=function n(t){var u=Mt(t);function e(t,n){var e=u((t=Jn(t)).r,(n=Jn(n)).r),r=u(t.g,n.g),i=u(t.b,n.b),o=Nt(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=r(n),t.b=i(n),t.opacity=o(n),t+""}}return e.gamma=n,e}(1);function At(t,e){return e-=t=+t,function(n){return t+e*n}}var Pt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jt=new RegExp(Pt.source,"g");var Ot,Ct,qt,Tt,It=180/Math.PI,Lt={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zt(n,t,e,r,i,o){var u,a,l;return(u=Math.sqrt(n*n+t*t))&&(n/=u,t/=u),(l=n*e+t*r)&&(e-=n*l,r-=t*l),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,l/=a),n*r<t*e&&(n=-n,t=-t,l=-l,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(t,n)*It,skewX:Math.atan(l)*It,scaleX:u,scaleY:a}}function Rt(h,p,d,v){function g(n){return n.length?n.pop()+" ":""}return function(n,t){var e,r,i,o,u,a,l,c,f=[],s=[];return n=h(n),t=h(t),function(n,t,e,r,i,o){if(n!==e||t!==r){var u=i.push("translate(",null,p,null,d);o.push({i:u-4,x:At(n,e)},{i:u-2,x:At(t,r)})}else(e||r)&&i.push("translate("+e+p+r+d)}(n.translateX,n.translateY,t.translateX,t.translateY,f,s),e=n.rotate,r=t.rotate,i=f,o=s,e!==r?(180<e-r?r+=360:180<r-e&&(e+=360),o.push({i:i.push(g(i)+"rotate(",null,v)-2,x:At(e,r)})):r&&i.push(g(i)+"rotate("+r+v),u=n.skewX,a=t.skewX,l=f,c=s,u!==a?c.push({i:l.push(g(l)+"skewX(",null,v)-2,x:At(u,a)}):a&&l.push(g(l)+"skewX("+a+v),function(n,t,e,r,i,o){if(n!==e||t!==r){var u=i.push(g(i)+"scale(",null,",",null,")");o.push({i:u-4,x:At(n,e)},{i:u-2,x:At(t,r)})}else 1===e&&1===r||i.push(g(i)+"scale("+e+","+r+")")}(n.scaleX,n.scaleY,t.scaleX,t.scaleY,f,s),n=t=null,function(n){for(var t,e=-1,r=s.length;++e<r;)f[(t=s[e]).i]=t.x(n);return f.join("")}}}var Ft=Rt(function(n){return"none"===n?Lt:(Ot||(Ot=document.createElement("DIV"),Ct=document.documentElement,qt=document.defaultView),Ot.style.transform=n,n=qt.getComputedStyle(Ct.appendChild(Ot),null).getPropertyValue("transform"),Ct.removeChild(Ot),zt(+(n=n.slice(7,-1).split(","))[0],+n[1],+n[2],+n[3],+n[4],+n[5]))},"px, ","px)","deg)"),Xt=Rt(function(n){return null==n?Lt:(Tt||(Tt=document.createElementNS("http://www.w3.org/2000/svg","g")),Tt.setAttribute("transform",n),(n=Tt.transform.baseVal.consolidate())?zt((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):Lt)},", ",")",")");Math.SQRT2;function Dt(n,t,e){var r=n._id;return n.each(function(){var n=Nn(this,r);(n.value||(n.value={}))[t]=e.apply(this,arguments)}),function(n){return kn(n,r).value[t]}}function Bt(n,t){var e;return("number"==typeof t?At:t instanceof Yn?kt:(e=Yn(t))?(t=e,kt):function(n,r){var t,e,i,o,u,a=Pt.lastIndex=jt.lastIndex=0,l=-1,c=[],f=[];for(n+="",r+="";(t=Pt.exec(n))&&(e=jt.exec(r));)(i=e.index)>a&&(i=r.slice(a,i),c[l]?c[l]+=i:c[++l]=i),(t=t[0])===(e=e[0])?c[l]?c[l]+=e:c[++l]=e:(c[++l]=null,f.push({i:l,x:At(t,e)})),a=jt.lastIndex;return a<r.length&&(i=r.slice(a),c[l]?c[l]+=i:c[++l]=i),c.length<2?f[0]?(u=f[0].x,function(n){return u(n)+""}):(o=r,function(){return o}):(r=f.length,function(n){for(var t,e=0;e<r;++e)c[(t=f[e]).i]=t.x(n);return c.join("")})})(n,t)}var Vt=B.prototype.constructor;var Yt=0;function $t(n,t,e,r){this._groups=n,this._parents=t,this._name=e,this._id=r}function Ht(){return++Yt}var Ut=B.prototype;$t.prototype=function(n){return B().transition(n)}.prototype={constructor:$t,select:function(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=p(n));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,l,c=r[u],f=c.length,s=o[u]=new Array(f),h=0;h<f;++h)(a=c[h])&&(l=n.call(a,a.__data__,h,c))&&("__data__"in a&&(l.__data__=a.__data__),s[h]=l,Sn(s[h],t,e,h,s,kn(a,e)));return new $t(o,this._parents,t,e)},selectAll:function(n){var t=this._name,e=this._id;"function"!=typeof n&&(n=y(n));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var l,c=r[a],f=c.length,s=0;s<f;++s)if(l=c[s]){for(var h,p=n.call(l,l.__data__,s,c),d=kn(l,e),v=0,g=p.length;v<g;++v)(h=p[v])&&Sn(h,t,e,v,p,d);o.push(p),u.push(l)}return new $t(o,u,t,e)},filter:function(n){"function"!=typeof n&&(n=f(n));for(var t=this._groups,e=t.length,r=new Array(e),i=0;i<e;++i)for(var o,u=t[i],a=u.length,l=r[i]=[],c=0;c<a;++c)(o=u[c])&&n.call(o,o.__data__,c,u)&&l.push(o);return new $t(r,this._parents,this._name,this._id)},merge:function(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,e=n._groups,r=t.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var l,c=t[a],f=e[a],s=c.length,h=u[a]=new Array(s),p=0;p<s;++p)(l=c[p]||f[p])&&(h[p]=l);for(;a<r;++a)u[a]=t[a];return new $t(u,this._parents,this._name,this._id)},selection:function(){return new Vt(this._groups,this._parents)},transition:function(){for(var n=this._name,t=this._id,e=Ht(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],l=a.length,c=0;c<l;++c)if(u=a[c]){var f=kn(u,t);Sn(u,n,e,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new $t(r,this._parents,n,e)},call:Ut.call,nodes:Ut.nodes,node:Ut.node,size:Ut.size,empty:Ut.empty,each:Ut.each,on:function(n,t){var e,r,i,o,u,a,l=this._id;return arguments.length<2?kn(this.node(),l).on.on(n):this.each((e=l,i=t,a=((r=n)+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return 0<=t&&(n=n.slice(0,t)),!n||"start"===n})?Mn:Nn,function(){var n=a(this,e),t=n.on;t!==o&&(u=(o=t).copy()).on(r,i),n.on=u}))},attr:function(n,t){var e=o(n),r="transform"===e?Xt:Bt;return this.attrTween(n,"function"==typeof t?(e.local?function(e,r,i){var o,u,a;return function(){var n,t=i(this);if(null!=t)return(n=this.getAttributeNS(e.space,e.local))===t?null:n===o&&t===u?a:a=r(o=n,u=t);this.removeAttributeNS(e.space,e.local)}}:function(e,r,i){var o,u,a;return function(){var n,t=i(this);if(null!=t)return(n=this.getAttribute(e))===t?null:n===o&&t===u?a:a=r(o=n,u=t);this.removeAttribute(e)}})(e,r,Dt(this,"attr."+n,t)):null==t?(e.local?function(n){return function(){this.removeAttributeNS(n.space,n.local)}}:function(n){return function(){this.removeAttribute(n)}})(e):(e.local?function(t,e,r){var i,o;return function(){var n=this.getAttributeNS(t.space,t.local);return n===r?null:n===i?o:o=e(i=n,r)}}:function(t,e,r){var i,o;return function(){var n=this.getAttribute(t);return n===r?null:n===i?o:o=e(i=n,r)}})(e,r,t+""))},attrTween:function(n,t){var e="attr."+n;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;var r=o(n);return this.tween(e,(r.local?function(r,n){function t(){var t=this,e=n.apply(t,arguments);return e&&function(n){t.setAttributeNS(r.space,r.local,e(n))}}return t._value=n,t}:function(r,n){function t(){var t=this,e=n.apply(t,arguments);return e&&function(n){t.setAttribute(r,e(n))}}return t._value=n,t})(r,t))},style:function(n,t,e){var r,i,o,u,a,l,c,f,s,h,p,d,v,g,y,m,w,_="transform"==(n+="")?Ft:Bt;return null==t?this.styleTween(n,(v=n,g=_,function(){var n=b(this,v),t=(this.style.removeProperty(v),b(this,v));return n===t?null:n===y&&t===m?w:w=g(y=n,m=t)})).on("end.style."+n,(d=n,function(){this.style.removeProperty(d)})):this.styleTween(n,"function"==typeof t?(c=_,f=Dt(this,"style."+(l=n),t),function(){var n=b(this,l),t=f(this);return null==t&&(this.style.removeProperty(l),t=b(this,l)),n===t?null:n===s&&t===h?p:p=c(s=n,h=t)}):(r=n,i=_,o=t+"",function(){var n=b(this,r);return n===o?null:n===u?a:a=i(u=n,o)}),e)},styleTween:function(n,t,e){var r="style."+(n+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(r,n,i){function t(){var t=this,e=n.apply(t,arguments);return e&&function(n){t.style.setProperty(r,e(n),i)}}return t._value=n,t}(n,t,null==e?"":e))},text:function(n){return this.tween("text","function"==typeof n?(e=Dt(this,"text",n),function(){var n=e(this);this.textContent=null==n?"":n}):(t=null==n?"":n+"",function(){this.textContent=t}));var t,e},remove:function(){return this.on("end.remove",(e=this._id,function(){var n=this.parentNode;for(var t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}));var e},tween:function(n,t){var e=this._id;if(n+="",arguments.length<2){for(var r,i=kn(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===n)return r.value;return null}return this.each((null==t?function(i,o){var u,a;return function(){var n=Nn(this,i),t=n.tween;if(t!==u)for(var e=0,r=(a=u=t).length;e<r;++e)if(a[e].name===o){(a=a.slice()).splice(e,1);break}n.tween=a}}:function(o,u,a){var l,c;if("function"!=typeof a)throw new Error;return function(){var n=Nn(this,o),t=n.tween;if(t!==l){c=(l=t).slice();for(var e={name:u,value:a},r=0,i=c.length;r<i;++r)if(c[r].name===u){c[r]=e;break}r===i&&c.push(e)}n.tween=c}})(e,n,t))},delay:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?function(n,t){return function(){Mn(this,n).delay=+t.apply(this,arguments)}}:function(n,t){return t=+t,function(){Mn(this,n).delay=t}})(t,n)):kn(this.node(),t).delay},duration:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?function(n,t){return function(){Nn(this,n).duration=+t.apply(this,arguments)}}:function(n,t){return t=+t,function(){Nn(this,n).duration=t}})(t,n)):kn(this.node(),t).duration},ease:function(n){var t=this._id;return arguments.length?this.each(function(n,t){if("function"!=typeof t)throw new Error;return function(){Nn(this,n).ease=t}}(t,n)):kn(this.node(),t).ease}};Math.PI,Math.PI;var Jt={time:null,delay:0,duration:250,ease:function(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}};function Gt(n,t){for(var e;!(e=n.__transition)||!(e=e[t]);)if(!(n=n.parentNode))return Jt.time=an(),Jt;return e}function Wt(){return new Kt}function Kt(){this.reset()}B.prototype.interrupt=function(n){return this.each(function(){!function(n,t){var e,r,i,o=n.__transition,u=!0;if(o){for(i in t=null==t?null:t+"",o)(e=o[i]).name===t?(r=e.state>wn&&e.state<xn,e.state=En,e.timer.stop(),r&&e.on.call("interrupt",n,n.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete n.__transition}}(this,n)})},B.prototype.transition=function(n){var t,e;n=n instanceof $t?(t=n._id,n._name):(t=Ht(),(e=Jt).time=an(),null==n?null:n+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],l=a.length,c=0;c<l;++c)(u=a[c])&&Sn(u,n,t,c,a,e||Gt(u,t));return new $t(r,this._parents,n,t)},Kt.prototype={constructor:Kt,reset:function(){this.s=this.t=0},add:function(n){Zt(Qt,n,this.t),Zt(this,Qt.s,this.s),this.s?this.t+=Qt.t:this.s=Qt.t},valueOf:function(){return this.s}};var Qt=new Kt;function Zt(n,t,e){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}var ne=1e-6,te=Math.PI,ee=te/2,re=te/4,ie=2*te,oe=180/te,ue=te/180,ae=Math.abs,le=Math.atan,ce=Math.atan2,fe=Math.cos,se=Math.exp,he=Math.log,pe=Math.sin,de=Math.sqrt,ve=Math.tan;function ge(n){return 1<n?ee:n<-1?-ee:Math.asin(n)}function ye(){}function me(n,t){n&&_e.hasOwnProperty(n.type)&&_e[n.type](n,t)}var we={Feature:function(n,t){me(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)me(e[r].geometry,t)}},_e={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){be(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)be(e[r],t,0)},Polygon:function(n,t){xe(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)xe(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)me(e[r],t)}};function be(n,t,e){var r,i=-1,o=n.length-e;for(t.lineStart();++i<o;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function xe(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)be(n[e],t,1);t.polygonEnd()}Wt(),Wt();function Ee(n){return[ce(n[1],n[0]),ge(n[2])]}function Se(n){var t=n[0],e=n[1],r=fe(e);return[r*fe(t),r*pe(t),pe(e)]}function Me(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function Ne(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function ke(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Ae(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Pe(n){var t=de(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}Wt();function je(e,r){function n(n,t){return n=e(n,t),r(n[0],n[1])}return e.invert&&r.invert&&(n.invert=function(n,t){return(n=r.invert(n,t))&&e.invert(n[0],n[1])}),n}function Oe(n,t){return[te<n?n-ie:n<-te?n+ie:n,t]}function Ce(n,t,e){return(n%=ie)?t||e?je(Te(n),Ie(t,e)):Te(n):t||e?Ie(t,e):Oe}function qe(e){return function(n,t){return[te<(n+=e)?n-ie:n<-te?n+ie:n,t]}}function Te(n){var t=qe(n);return t.invert=qe(-n),t}function Ie(n,t){var a=fe(n),l=pe(n),c=fe(t),f=pe(t);function e(n,t){var e=fe(t),r=fe(n)*e,i=pe(n)*e,o=pe(t),u=o*a+r*l;return[ce(i*c-u*f,r*a-o*l),ge(u*c+i*f)]}return e.invert=function(n,t){var e=fe(t),r=fe(n)*e,i=pe(n)*e,o=pe(t),u=o*c-i*f;return[ce(i*c+o*f,r*a+u*l),ge(u*a-r*l)]},e}function Le(n,t){(t=Se(t))[0]-=n,Pe(t);var e,r=1<(e=-t[1])?0:e<-1?te:Math.acos(e);return((-t[2]<0?-r:r)+ie-ne)%ie}function ze(){var e,t=[];return{point:function(n,t){e.push([n,t])},lineStart:function(){t.push(e=[])},lineEnd:ye,rejoin:function(){1<t.length&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Re(n,t){return ae(n[0]-t[0])<ne&&ae(n[1]-t[1])<ne}function Fe(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Xe(n,t,e,r,o){var u,i,a=[],l=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e,r=n[0],i=n[t];if(Re(r,i)){for(o.lineStart(),u=0;u<t;++u)o.point((r=n[u])[0],r[1]);o.lineEnd()}else a.push(e=new Fe(r,n,null,!0)),l.push(e.o=new Fe(r,null,e,!1)),a.push(e=new Fe(i,n,null,!1)),l.push(e.o=new Fe(i,null,e,!0))}}),a.length){for(l.sort(t),De(a),De(l),u=0,i=l.length;u<i;++u)l[u].e=e=!e;for(var c,f,s=a[0];;){for(var h=s,p=!0;h.v;)if((h=h.n)===s)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(u=0,i=c.length;u<i;++u)o.point((f=c[u])[0],f[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(c=h.p.z,u=c.length-1;0<=u;--u)o.point((f=c[u])[0],f[1]);else r(h.x,h.p.x,-1,o);h=h.p}c=(h=h.o).z,p=!p}while(!h.v);o.lineEnd()}}}function De(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}Oe.invert=Oe;var Be=Wt();function Ve(n,t){return n<t?-1:t<n?1:t<=n?0:NaN}var Ye,$e;1===(Ye=Ve).length&&($e=Ye,Ye=function(n,t){return Ve($e(n),t)});function He(n){for(var t,e,r,i=n.length,o=-1,u=0;++o<i;)u+=n[o].length;for(e=new Array(u);0<=--i;)for(t=(r=n[i]).length;0<=--t;)e[--u]=r[t];return e}function Ue(g,y,m,w){return function(a){var l,c,f,e=y(a),s=ze(),h=y(s),p=!1,t={point:r,lineStart:i,lineEnd:o,polygonStart:function(){t.point=d,t.lineStart=u,t.lineEnd=v,c=[],l=[]},polygonEnd:function(){t.point=r,t.lineStart=i,t.lineEnd=o,c=He(c);var n=function(n,t){var e=t[0],r=t[1],i=pe(r),o=[pe(e),-fe(e),0],u=0,a=0;Be.reset(),1===i?r=ee+ne:-1===i&&(r=-ee-ne);for(var l=0,c=n.length;l<c;++l)if(s=(f=n[l]).length)for(var f,s,h=f[s-1],p=h[0],d=h[1]/2+re,v=pe(d),g=fe(d),y=0;y<s;++y,p=w,v=b,g=x,h=m){var m=f[y],w=m[0],_=m[1]/2+re,b=pe(_),x=fe(_),E=w-p,S=0<=E?1:-1,M=S*E,N=te<M,k=v*b;if(Be.add(ce(k*S*pe(M),g*x+k*fe(M))),u+=N?E+S*ie:E,N^e<=p^e<=w){var A=Ne(Se(h),Se(m));Pe(A);var P=Ne(o,A);Pe(P);var j=(N^0<=E?-1:1)*ge(P[2]);(j<r||r===j&&(A[0]||A[1]))&&(a+=N^0<=E?1:-1)}}return(u<-ne||u<ne&&Be<-ne)^1&a}(l,w);c.length?(p||(a.polygonStart(),p=!0),Xe(c,Ge,n,m,a)):n&&(p||(a.polygonStart(),p=!0),a.lineStart(),m(null,null,1,a),a.lineEnd()),p&&(a.polygonEnd(),p=!1),c=l=null},sphere:function(){a.polygonStart(),a.lineStart(),m(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function r(n,t){g(n,t)&&a.point(n,t)}function n(n,t){e.point(n,t)}function i(){t.point=n,e.lineStart()}function o(){t.point=r,e.lineEnd()}function d(n,t){f.push([n,t]),h.point(n,t)}function u(){h.lineStart(),f=[]}function v(){d(f[0][0],f[0][1]),h.lineEnd();var n,t,e,r,i=h.clean(),o=s.result(),u=o.length;if(f.pop(),l.push(f),f=null,u)if(1&i){if(0<(t=(e=o[0]).length-1)){for(p||(a.polygonStart(),p=!0),a.lineStart(),n=0;n<t;++n)a.point((r=e[n])[0],r[1]);a.lineEnd()}}else 1<u&&2&i&&o.push(o.pop().concat(o.shift())),c.push(o.filter(Je))}return t}}function Je(n){return 1<n.length}function Ge(n,t){return((n=n.x)[0]<0?n[1]-ee-ne:ee-n[1])-((t=t.x)[0]<0?t[1]-ee-ne:ee-t[1])}var We=Ue(function(){return!0},function(s){var h,p=NaN,d=NaN,v=NaN;return{lineStart:function(){s.lineStart(),h=1},point:function(n,t){var e,r,i,o,u,a,l,c=0<n?te:-te,f=ae(n-p);ae(f-te)<ne?(s.point(p,d=0<(d+t)/2?ee:-ee),s.point(v,d),s.lineEnd(),s.lineStart(),s.point(c,d),s.point(n,d),h=0):v!==c&&te<=f&&(ae(p-v)<ne&&(p-=v*ne),ae(n-c)<ne&&(n-=c*ne),r=d,o=t,l=pe((e=p)-(i=n)),d=ae(l)>ne?le((pe(r)*(a=fe(o))*pe(i)-pe(o)*(u=fe(r))*pe(e))/(u*a*l)):(r+o)/2,s.point(v,d),s.lineEnd(),s.lineStart(),s.point(c,d),h=0),s.point(p=n,d=t),v=c},lineEnd:function(){s.lineEnd(),p=d=NaN},clean:function(){return 2-h}}},function(n,t,e,r){var i;if(null==n)i=e*ee,r.point(-te,i),r.point(0,i),r.point(te,i),r.point(te,0),r.point(te,-i),r.point(0,-i),r.point(-te,-i),r.point(-te,0),r.point(-te,i);else if(ae(n[0]-t[0])>ne){var o=n[0]<t[0]?te:-te;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])},[-te,-ee]);function Ke(i){var N=fe(i),o=6*ue,p=0<N,d=ae(N)>ne;function v(n,t){return fe(n)*fe(t)>N}function g(n,t,e){var r=[1,0,0],i=Ne(Se(n),Se(t)),o=Me(i,i),u=i[0],a=o-u*u;if(!a)return!e&&n;var l=N*o/a,c=-N*u/a,f=Ne(r,i),s=Ae(r,l);ke(s,Ae(i,c));var h=f,p=Me(s,h),d=Me(h,h),v=p*p-d*(Me(s,s)-1);if(!(v<0)){var g=de(v),y=Ae(h,(-p-g)/d);if(ke(y,s),y=Ee(y),!e)return y;var m,w=n[0],_=t[0],b=n[1],x=t[1];_<w&&(m=w,w=_,_=m);var E=_-w,S=ae(E-te)<ne;if(!S&&x<b&&(m=b,b=x,x=m),S||E<ne?S?0<b+x^y[1]<(ae(y[0]-w)<ne?b:x):b<=y[1]&&y[1]<=x:te<E^(w<=y[0]&&y[0]<=_)){var M=Ae(h,(-p+g)/d);return ke(M,s),[y,Ee(M)]}}}function y(n,t){var e=p?i:te-i,r=0;return n<-e?r|=1:e<n&&(r|=2),t<-e?r|=4:e<t&&(r|=8),r}return Ue(v,function(a){var l,c,f,s,h;return{lineStart:function(){s=f=!1,h=1},point:function(n,t){var e,r=[n,t],i=v(n,t),o=p?i?0:y(n,t):i?y(n+(n<0?te:-te),t):0;if(!l&&(s=f=i)&&a.lineStart(),i!==f&&(!(e=g(l,r))||Re(l,e)||Re(r,e))&&(r[0]+=ne,r[1]+=ne,i=v(r[0],r[1])),i!==f)h=0,i?(a.lineStart(),e=g(r,l),a.point(e[0],e[1])):(e=g(l,r),a.point(e[0],e[1]),a.lineEnd()),l=e;else if(d&&l&&p^i){var u;o&c||!(u=g(r,l,!0))||(h=0,p?(a.lineStart(),a.point(u[0][0],u[0][1]),a.point(u[1][0],u[1][1]),a.lineEnd()):(a.point(u[1][0],u[1][1]),a.lineEnd(),a.lineStart(),a.point(u[0][0],u[0][1])))}!i||l&&Re(l,r)||a.point(r[0],r[1]),l=r,f=i,c=o},lineEnd:function(){f&&a.lineEnd(),l=null},clean:function(){return h|(s&&f)<<1}}},function(n,t,e,r){!function(n,t,e,r,i,o){if(e){var u=fe(t),a=pe(t),l=r*e;null==i?(i=t+r*ie,o=t-l/2):(i=Le(u,i),o=Le(u,o),(0<r?i<o:o<i)&&(i+=r*ie));for(var c,f=i;0<r?o<f:f<o;f-=l)c=Ee([u,-a*fe(f),-a*pe(f)]),n.point(c[0],c[1])}}(r,i,o,e,n,t)},p?[0,-i]:[-te,i-te])}var Qe=1e9,Ze=-Qe;function nr(y,m,w,_){function b(n,t){return y<=n&&n<=w&&m<=t&&t<=_}function x(n,t,e,r){var i=0,o=0;if(null==n||(i=u(n,e))!==(o=u(t,e))||a(n,t)<0^0<e)for(;r.point(0===i||3===i?y:w,1<i?_:m),(i=(i+e+4)%4)!==o;);else r.point(t[0],t[1])}function u(n,t){return ae(n[0]-y)<ne?0<t?0:3:ae(n[0]-w)<ne?0<t?2:1:ae(n[1]-m)<ne?0<t?1:0:0<t?3:2}function E(n,t){return a(n.x,t.x)}function a(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(r){var i,s,o,u,a,l,c,f,h,p,d,v=r,n=ze(),t={point:e,lineStart:function(){t.point=g,s&&s.push(o=[]);p=!0,h=!1,c=f=NaN},lineEnd:function(){i&&(g(u,a),l&&h&&n.rejoin(),i.push(n.result()));t.point=e,h&&v.lineEnd()},polygonStart:function(){v=n,i=[],s=[],d=!0},polygonEnd:function(){var n=function(){for(var n=0,t=0,e=s.length;t<e;++t)for(var r,i,o=s[t],u=1,a=o.length,l=o[0],c=l[0],f=l[1];u<a;++u)r=c,i=f,l=o[u],c=l[0],f=l[1],i<=_?_<f&&(f-i)*(y-r)<(c-r)*(_-i)&&++n:f<=_&&(c-r)*(_-i)<(f-i)*(y-r)&&--n;return n}(),t=d&&n,e=(i=He(i)).length;(t||e)&&(r.polygonStart(),t&&(r.lineStart(),x(null,null,1,r),r.lineEnd()),e&&Xe(i,E,n,x,r),r.polygonEnd());v=r,i=s=o=null}};function e(n,t){b(n,t)&&v.point(n,t)}function g(n,t){var e=b(n,t);if(s&&o.push([n,t]),p)u=n,a=t,p=!1,(l=e)&&(v.lineStart(),v.point(n,t));else if(e&&h)v.point(n,t);else{var r=[c=Math.max(Ze,Math.min(Qe,c)),f=Math.max(Ze,Math.min(Qe,f))],i=[n=Math.max(Ze,Math.min(Qe,n)),t=Math.max(Ze,Math.min(Qe,t))];!function(n,t,e,r,i,o){var u,a=n[0],l=n[1],c=0,f=1,s=t[0]-a,h=t[1]-l;if(u=e-a,s||!(0<u)){if(u/=s,s<0){if(u<c)return;u<f&&(f=u)}else if(0<s){if(f<u)return;c<u&&(c=u)}if(u=i-a,s||!(u<0)){if(u/=s,s<0){if(f<u)return;c<u&&(c=u)}else if(0<s){if(u<c)return;u<f&&(f=u)}if(u=r-l,h||!(0<u)){if(u/=h,h<0){if(u<c)return;u<f&&(f=u)}else if(0<h){if(f<u)return;c<u&&(c=u)}if(u=o-l,h||!(u<0)){if(u/=h,h<0){if(f<u)return;c<u&&(c=u)}else if(0<h){if(u<c)return;u<f&&(f=u)}return 0<c&&(n[0]=a+c*s,n[1]=l+c*h),f<1&&(t[0]=a+f*s,t[1]=l+f*h),!0}}}}}(r,i,y,m,w,_)?e&&(v.lineStart(),v.point(n,t),d=!1):(h||(v.lineStart(),v.point(r[0],r[1])),v.point(i[0],i[1]),e||v.lineEnd(),d=!1)}c=n,f=t,h=e}return t}}Wt();function tr(n){return n}Wt(),Wt();var er=1/0,rr=er,ir=-er,or=ir,ur={point:function(n,t){n<er&&(er=n);ir<n&&(ir=n);t<rr&&(rr=t);or<t&&(or=t)},lineStart:ye,lineEnd:ye,polygonStart:ye,polygonEnd:ye,result:function(){var n=[[er,rr],[ir,or]];return ir=or=-(rr=er=1/0),n}};Wt();function ar(r){return function(n){var t=new lr;for(var e in r)t[e]=r[e];return t.stream=n,t}}function lr(){}function cr(n,t,e){var r,i,o=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=o&&n.clipExtent(null),r=e,i=n.stream(ur),r&&we.hasOwnProperty(r.type)?we[r.type](r,i):me(r,i),t(ur.result()),null!=o&&n.clipExtent(o),n}function fr(u,a,n){return cr(u,function(n){var t=a[1][0]-a[0][0],e=a[1][1]-a[0][1],r=Math.min(t/(n[1][0]-n[0][0]),e/(n[1][1]-n[0][1])),i=+a[0][0]+(t-r*(n[1][0]+n[0][0]))/2,o=+a[0][1]+(e-r*(n[1][1]+n[0][1]))/2;u.scale(150*r).translate([i,o])},n)}lr.prototype={constructor:lr,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var sr=16,hr=fe(30*ue);function pr(n,t){return+t?function(P,j){function O(n,t,e,r,i,o,u,a,l,c,f,s,h,p){var d=u-n,v=a-t,g=d*d+v*v;if(4*j<g&&h--){var y=r+c,m=i+f,w=o+s,_=de(y*y+m*m+w*w),b=ge(w/=_),x=ae(ae(w)-1)<ne||ae(e-l)<ne?(e+l)/2:ce(m,y),E=P(x,b),S=E[0],M=E[1],N=S-n,k=M-t,A=v*N-d*k;(j<A*A/g||.3<ae((d*N+v*k)/g-.5)||r*c+i*f+o*s<hr)&&(O(n,t,e,r,i,o,S,M,x,y/=_,m/=_,w,h,p),p.point(S,M),O(S,M,x,y,m,w,u,a,l,c,f,s,h,p))}}return function(i){var e,r,o,u,a,l,c,f,s,h,p,d,v={point:n,lineStart:t,lineEnd:y,polygonStart:function(){i.polygonStart(),v.lineStart=m},polygonEnd:function(){i.polygonEnd(),v.lineStart=t}};function n(n,t){n=P(n,t),i.point(n[0],n[1])}function t(){f=NaN,v.point=g,i.lineStart()}function g(n,t){var e=Se([n,t]),r=P(n,t);O(f,s,c,h,p,d,f=r[0],s=r[1],c=n,h=e[0],p=e[1],d=e[2],sr,i),i.point(f,s)}function y(){v.point=n,i.lineEnd()}function m(){t(),v.point=w,v.lineEnd=_}function w(n,t){g(e=n,t),r=f,o=s,u=h,a=p,l=d,v.point=g}function _(){O(f,s,c,h,p,d,r,o,e,u,a,l,sr,i),(v.lineEnd=y)()}return v}}(n,t):(e=n,ar({point:function(n,t){n=e(n,t),this.stream.point(n[0],n[1])}}));var e}var dr=ar({point:function(n,t){this.stream.point(n*ue,t*ue)}});function vr(n,e,r,t){var i=fe(t),o=pe(t),u=i*n,a=o*n,l=i/n,c=o/n,f=(o*r-i*e)/n,s=(o*e+i*r)/n;function h(n,t){return[u*n-a*t+e,r-a*n-u*t]}return h.invert=function(n,t){return[l*n-c*t+f,s-c*n-l*t]},h}function gr(n){return function(n){var e,i,t,r,o,u,a,l,c,f,s=150,h=480,p=250,d=0,v=0,g=0,y=0,m=0,w=0,_=null,b=We,x=null,E=tr,S=.5;function M(n){return l(n[0]*ue,n[1]*ue)}function N(n){return(n=l.invert(n[0],n[1]))&&[n[0]*oe,n[1]*oe]}function k(){var n=vr(s,0,0,w).apply(null,e(d,v)),t=(w?vr:function(e,r,i){function n(n,t){return[r+e*n,i-e*t]}return n.invert=function(n,t){return[(n-r)/e,(i-t)/e]},n})(s,h-n[0],p-n[1],w);return i=Ce(g,y,m),a=je(e,t),l=je(i,a),u=pr(a,S),A()}function A(){return c=f=null,M}return M.stream=function(n){return c&&f===n?c:c=dr((r=i,ar({point:function(n,t){var e=r(n,t);return this.stream.point(e[0],e[1])}})(b(u(E(f=n))))));var r},M.preclip=function(n){return arguments.length?(b=n,_=void 0,A()):b},M.postclip=function(n){return arguments.length?(E=n,x=t=r=o=null,A()):E},M.clipAngle=function(n){return arguments.length?(b=+n?Ke(_=n*ue):(_=null,We),A()):_*oe},M.clipExtent=function(n){return arguments.length?(E=null==n?(x=t=r=o=null,tr):nr(x=+n[0][0],t=+n[0][1],r=+n[1][0],o=+n[1][1]),A()):null==x?null:[[x,t],[r,o]]},M.scale=function(n){return arguments.length?(s=+n,k()):s},M.translate=function(n){return arguments.length?(h=+n[0],p=+n[1],k()):[h,p]},M.center=function(n){return arguments.length?(d=n[0]%360*ue,v=n[1]%360*ue,k()):[d*oe,v*oe]},M.rotate=function(n){return arguments.length?(g=n[0]%360*ue,y=n[1]%360*ue,m=2<n.length?n[2]%360*ue:0,k()):[g*oe,y*oe,m*oe]},M.angle=function(n){return arguments.length?(w=n%360*ue,k()):w*oe},M.precision=function(n){return arguments.length?(u=pr(a,S=n*n),A()):de(S)},M.fitExtent=function(n,t){return fr(M,n,t)},M.fitSize=function(n,t){return fr(M,[[0,0],n],t)},M.fitWidth=function(n,t){return u=n,cr(o=M,function(n){var t=+u,e=t/(n[1][0]-n[0][0]),r=(t-e*(n[1][0]+n[0][0]))/2,i=-e*n[0][1];o.scale(150*e).translate([r,i])},t);var o,u},M.fitHeight=function(n,t){return u=n,cr(o=M,function(n){var t=+u,e=t/(n[1][1]-n[0][1]),r=-e*n[0][0],i=(t-e*(n[1][1]+n[0][1]))/2;o.scale(150*e).translate([r,i])},t);var o,u},function(){return e=n.apply(this,arguments),M.invert=e.invert&&N,k()}}(function(){return n})()}function yr(n,t){return[n,he(ve((ee+t)/2))]}yr.invert=function(n,t){return[n,2*le(se(t))-ee]};var mr="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function wr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function _r(n,t){return n(t={exports:{}},t.exports),t.exports}var br=wr(_r(function(n,t){!function(n){function e(n,t){return n<t?-1:t<n?1:t<=n?0:NaN}var t,r;function S(n){for(var t,e,r,i=n.length,o=-1,u=0;++o<i;)u+=n[o].length;for(e=new Array(u);0<=--i;)for(r=n[i],t=r.length;0<=--t;)e[--u]=r[t];return e}function Y(n,t){var e,r=0,i=n.length,o=-1;if(null==t)for(;++o<i;)(e=+n[o])&&(r+=e);else for(;++o<i;)(e=+t(n[o],o,n))&&(r+=e);return r}function i(){return new o}function o(){this.reset()}1===(t=e).length&&(r=t,t=function(n,t){return e(r(n),t)}),o.prototype={constructor:o,reset:function(){this.s=this.t=0},add:function(n){a(u,n,this.t),a(this,u.s,this.s),this.s?this.t+=u.t:this.s=u.t},valueOf:function(){return this.s}};var u=new o;function a(n,t,e){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}var C=1e-6,O=Math.PI,g=O/2,j=O/4,q=2*O,T=180/O,I=O/180,L=Math.abs,y=Math.atan,z=Math.atan2,R=Math.cos,F=Math.sin,l=Math.sign||function(n){return 0<n?1:n<0?-1:0},X=Math.sqrt;function D(n){return 1<n?g:n<-1?-g:Math.asin(n)}function c(){}function f(n,t){n&&h.hasOwnProperty(n.type)&&h[n.type](n,t)}var s={Feature:function(n,t){f(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)f(e[r].geometry,t)}},h={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){p(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)p(e[r],t,0)},Polygon:function(n,t){d(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)d(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)f(e[r],t)}};function p(n,t,e){var r,i=-1,o=n.length-e;for(t.lineStart();++i<o;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function d(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)p(n[e],t,1);t.polygonEnd()}function v(n,t){n&&s.hasOwnProperty(n.type)?s[n.type](n,t):f(n,t)}function B(n){return[z(n[1],n[0]),D(n[2])]}function V(n){var t=n[0],e=n[1],r=R(e);return[r*R(t),r*F(t),F(e)]}function $(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function H(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function U(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function J(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function G(n){var t=X(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function W(e,r){function n(n,t){return n=e(n,t),r(n[0],n[1])}return e.invert&&r.invert&&(n.invert=function(n,t){return(n=r.invert(n,t))&&e.invert(n[0],n[1])}),n}function K(n,t){return[O<n?n-q:n<-O?n+q:n,t]}function m(e){return function(n,t){return[O<(n+=e)?n-q:n<-O?n+q:n,t]}}function Q(n){var t=m(n);return t.invert=m(-n),t}function Z(n,t){var a=R(n),l=F(n),c=R(t),f=F(t);function e(n,t){var e=R(t),r=R(n)*e,i=F(n)*e,o=F(t),u=o*a+r*l;return[z(i*c-u*f,r*a-o*l),D(u*c+i*f)]}return e.invert=function(n,t){var e=R(t),r=R(n)*e,i=F(n)*e,o=F(t),u=o*c-i*f;return[z(i*c+o*f,r*a+u*l),D(u*a-r*l)]},e}function w(n,t,e,r,i,o){if(e){var u=R(t),a=F(t),l=r*e;null==i?(i=t+r*q,o=t-l/2):(i=_(u,i),o=_(u,o),(0<r?i<o:o<i)&&(i+=r*q));for(var c,f=i;0<r?o<f:f<o;f-=l)c=B([u,-a*R(f),-a*F(f)]),n.point(c[0],c[1])}}function _(n,t){(t=V(t))[0]-=n,G(t);var e,r=1<(e=-t[1])?0:e<-1?O:Math.acos(e);return((-t[2]<0?-r:r)+q-C)%q}function M(){var e,t=[];return{point:function(n,t){e.push([n,t])},lineStart:function(){t.push(e=[])},lineEnd:c,rejoin:function(){1<t.length&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function b(n,t){return L(n[0]-t[0])<C&&L(n[1]-t[1])<C}function x(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function N(n,t,e,r,o){var u,i,a=[],l=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e,r=n[0],i=n[t];if(b(r,i)){for(o.lineStart(),u=0;u<t;++u)o.point((r=n[u])[0],r[1]);o.lineEnd()}else a.push(e=new x(r,n,null,!0)),l.push(e.o=new x(r,null,e,!1)),a.push(e=new x(i,n,null,!1)),l.push(e.o=new x(i,null,e,!0))}}),a.length){for(l.sort(t),E(a),E(l),u=0,i=l.length;u<i;++u)l[u].e=e=!e;for(var c,f,s=a[0];;){for(var h=s,p=!0;h.v;)if((h=h.n)===s)return;c=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(u=0,i=c.length;u<i;++u)o.point((f=c[u])[0],f[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(p)for(c=h.p.z,u=c.length-1;0<=u;--u)o.point((f=c[u])[0],f[1]);else r(h.x,h.p.x,-1,o);h=h.p}h=h.o,c=h.z,p=!p}while(!h.v);o.lineEnd()}}}function E(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}i(),i(),i(),K.invert=K;var k=1e9,A=-k;function nn(y,m,w,_){function b(n,t){return y<=n&&n<=w&&m<=t&&t<=_}function x(n,t,e,r){var i=0,o=0;if(null==n||(i=u(n,e))!==(o=u(t,e))||a(n,t)<0^0<e)for(;r.point(0===i||3===i?y:w,1<i?_:m),(i=(i+e+4)%4)!==o;);else r.point(t[0],t[1])}function u(n,t){return L(n[0]-y)<C?0<t?0:3:L(n[0]-w)<C?0<t?2:1:L(n[1]-m)<C?0<t?1:0:0<t?3:2}function E(n,t){return a(n.x,t.x)}function a(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}return function(r){var i,s,o,u,a,l,c,f,h,p,d,v=r,n=M(),t={point:e,lineStart:function(){t.point=g,s&&s.push(o=[]),h=!(p=!0),c=f=NaN},lineEnd:function(){i&&(g(u,a),l&&h&&n.rejoin(),i.push(n.result())),t.point=e,h&&v.lineEnd()},polygonStart:function(){v=n,i=[],s=[],d=!0},polygonEnd:function(){var n=function(){for(var n=0,t=0,e=s.length;t<e;++t)for(var r,i,o=s[t],u=1,a=o.length,l=o[0],c=l[0],f=l[1];u<a;++u)r=c,i=f,l=o[u],c=l[0],f=l[1],i<=_?_<f&&(f-i)*(y-r)<(c-r)*(_-i)&&++n:f<=_&&(c-r)*(_-i)<(f-i)*(y-r)&&--n;return n}(),t=d&&n,e=(i=S(i)).length;(t||e)&&(r.polygonStart(),t&&(r.lineStart(),x(null,null,1,r),r.lineEnd()),e&&N(i,E,n,x,r),r.polygonEnd()),v=r,i=s=o=null}};function e(n,t){b(n,t)&&v.point(n,t)}function g(n,t){var e=b(n,t);if(s&&o.push([n,t]),p)u=n,a=t,p=!1,(l=e)&&(v.lineStart(),v.point(n,t));else if(e&&h)v.point(n,t);else{var r=[c=Math.max(A,Math.min(k,c)),f=Math.max(A,Math.min(k,f))],i=[n=Math.max(A,Math.min(k,n)),t=Math.max(A,Math.min(k,t))];!function(n,t,e,r,i,o){var u,a=n[0],l=n[1],c=t[0],f=t[1],s=0,h=1,p=c-a,d=f-l;if(u=e-a,p||!(0<u)){if(u/=p,p<0){if(u<s)return;u<h&&(h=u)}else if(0<p){if(h<u)return;s<u&&(s=u)}if(u=i-a,p||!(u<0)){if(u/=p,p<0){if(h<u)return;s<u&&(s=u)}else if(0<p){if(u<s)return;u<h&&(h=u)}if(u=r-l,d||!(0<u)){if(u/=d,d<0){if(u<s)return;u<h&&(h=u)}else if(0<d){if(h<u)return;s<u&&(s=u)}if(u=o-l,d||!(u<0)){if(u/=d,d<0){if(h<u)return;s<u&&(s=u)}else if(0<d){if(u<s)return;u<h&&(h=u)}return 0<s&&(n[0]=a+s*p,n[1]=l+s*d),h<1&&(t[0]=a+h*p,t[1]=l+h*d),!0}}}}}(r,i,y,m,w,_)?e&&(v.lineStart(),v.point(n,t),d=!1):(h||(v.lineStart(),v.point(r[0],r[1])),v.point(i[0],i[1]),e||v.lineEnd(),d=!1)}c=n,f=t,h=e}return t}}var tn=i();function en(n){return n}i();var P,rn,on,un,an=i(),ln=i(),cn={point:c,lineStart:c,lineEnd:c,polygonStart:function(){cn.lineStart=fn,cn.lineEnd=pn},polygonEnd:function(){cn.lineStart=cn.lineEnd=cn.point=c,an.add(L(ln)),ln.reset()},result:function(){var n=an/2;return an.reset(),n}};function fn(){cn.point=sn}function sn(n,t){cn.point=hn,P=on=n,rn=un=t}function hn(n,t){ln.add(un*n-on*t),on=n,un=t}function pn(){hn(P,rn)}var dn,vn,gn,yn,mn=1/0,wn=mn,_n=-mn,bn=_n,xn={point:function(n,t){n<mn&&(mn=n),_n<n&&(_n=n),t<wn&&(wn=t),bn<t&&(bn=t)},lineStart:c,lineEnd:c,polygonStart:c,polygonEnd:c,result:function(){var n=[[mn,wn],[_n,bn]];return _n=bn=-(wn=mn=1/0),n}},En=0,Sn=0,Mn=0,Nn=0,kn=0,An=0,Pn=0,jn=0,On=0,Cn={point:qn,lineStart:Tn,lineEnd:zn,polygonStart:function(){Cn.lineStart=Rn,Cn.lineEnd=Fn},polygonEnd:function(){Cn.point=qn,Cn.lineStart=Tn,Cn.lineEnd=zn},result:function(){var n=On?[Pn/On,jn/On]:An?[Nn/An,kn/An]:Mn?[En/Mn,Sn/Mn]:[NaN,NaN];return En=Sn=Mn=Nn=kn=An=Pn=jn=On=0,n}};function qn(n,t){En+=n,Sn+=t,++Mn}function Tn(){Cn.point=In}function In(n,t){Cn.point=Ln,qn(gn=n,yn=t)}function Ln(n,t){var e=n-gn,r=t-yn,i=X(e*e+r*r);Nn+=i*(gn+n)/2,kn+=i*(yn+t)/2,An+=i,qn(gn=n,yn=t)}function zn(){Cn.point=qn}function Rn(){Cn.point=Xn}function Fn(){Dn(dn,vn)}function Xn(n,t){Cn.point=Dn,qn(dn=gn=n,vn=yn=t)}function Dn(n,t){var e=n-gn,r=t-yn,i=X(e*e+r*r);Nn+=i*(gn+n)/2,kn+=i*(yn+t)/2,An+=i,Pn+=(i=yn*n-gn*t)*(gn+n),jn+=i*(yn+t),On+=3*i,qn(gn=n,yn=t)}function Bn(n){this._context=n}Bn.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,q)}},result:c};var Vn,Yn,$n,Hn,Un,Jn=i(),Gn={point:c,lineStart:function(){Gn.point=Wn},lineEnd:function(){Vn&&Kn(Yn,$n),Gn.point=c},polygonStart:function(){Vn=!0},polygonEnd:function(){Vn=null},result:function(){var n=+Jn;return Jn.reset(),n}};function Wn(n,t){Gn.point=Kn,Yn=Hn=n,$n=Un=t}function Kn(n,t){Hn-=n,Un-=t,Jn.add(X(Hn*Hn+Un*Un)),Hn=n,Un=t}function Qn(){this._string=[]}function Zn(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function nt(t,e){var r,i,o=4.5;function u(n){return n&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),v(n,r(i))),i.result()}return u.area=function(n){return v(n,r(cn)),cn.result()},u.measure=function(n){return v(n,r(Gn)),Gn.result()},u.bounds=function(n){return v(n,r(xn)),xn.result()},u.centroid=function(n){return v(n,r(Cn)),Cn.result()},u.projection=function(n){return arguments.length?(r=null==n?(t=null,en):(t=n).stream,u):t},u.context=function(n){return arguments.length?(i=null==n?(e=null,new Qn):new Bn(e=n),"function"!=typeof o&&i.pointRadius(o),u):e},u.pointRadius=function(n){return arguments.length?(o="function"==typeof n?n:(i.pointRadius(+n),+n),u):o},u.projection(t).context(e)}function tt(m,w,_,b){return function(r,a){var l,c,f,i=w(a),t=r.invert(b[0],b[1]),s=M(),h=w(s),p=!1,e={point:o,lineStart:u,lineEnd:d,polygonStart:function(){e.point=v,e.lineStart=g,e.lineEnd=y,c=[],l=[]},polygonEnd:function(){e.point=o,e.lineStart=u,e.lineEnd=d,c=S(c);var n=function(n,t){var e=t[0],r=t[1],i=[F(e),-R(e),0],o=0,u=0;tn.reset();for(var a=0,l=n.length;a<l;++a)if(f=(c=n[a]).length)for(var c,f,s=c[f-1],h=s[0],p=s[1]/2+j,d=F(p),v=R(p),g=0;g<f;++g,h=m,d=_,v=b,s=y){var y=c[g],m=y[0],w=y[1]/2+j,_=F(w),b=R(w),x=m-h,E=0<=x?1:-1,S=E*x,M=O<S,N=d*_;if(tn.add(z(N*E*F(S),v*b+N*R(S))),o+=M?x+E*q:x,M^e<=h^e<=m){var k=H(V(s),V(y));G(k);var A=H(i,k);G(A);var P=(M^0<=x?-1:1)*D(A[2]);(P<r||r===P&&(k[0]||k[1]))&&(u+=M^0<=x?1:-1)}}return(o<-C||o<C&&tn<-C)^1&u}(l,t);c.length?(p||(a.polygonStart(),p=!0),N(c,rt,n,_,a)):n&&(p||(a.polygonStart(),p=!0),a.lineStart(),_(null,null,1,a),a.lineEnd()),p&&(a.polygonEnd(),p=!1),c=l=null},sphere:function(){a.polygonStart(),a.lineStart(),_(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function o(n,t){var e=r(n,t);m(n=e[0],t=e[1])&&a.point(n,t)}function n(n,t){var e=r(n,t);i.point(e[0],e[1])}function u(){e.point=n,i.lineStart()}function d(){e.point=o,i.lineEnd()}function v(n,t){f.push([n,t]);var e=r(n,t);h.point(e[0],e[1])}function g(){h.lineStart(),f=[]}function y(){v(f[0][0],f[0][1]),h.lineEnd();var n,t,e,r,i=h.clean(),o=s.result(),u=o.length;if(f.pop(),l.push(f),f=null,u)if(1&i){if(e=o[0],0<(t=e.length-1)){for(p||(a.polygonStart(),p=!0),a.lineStart(),n=0;n<t;++n)a.point((r=e[n])[0],r[1]);a.lineEnd()}}else 1<u&&2&i&&o.push(o.pop().concat(o.shift())),c.push(o.filter(et))}return e}}function et(n){return 1<n.length}function rt(n,t){return((n=n.x)[0]<0?n[1]-g-C:g-n[1])-((t=t.x)[0]<0?t[1]-g-C:g-t[1])}Qn.prototype={_circle:Zn(4.5),pointRadius:function(n){return this._circle=Zn(n),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}}};var it=tt(function(){return!0},function(s){var h,p=NaN,d=NaN,v=NaN;return{lineStart:function(){s.lineStart(),h=1},point:function(n,t){var e,r,i,o,u,a,l,c=0<n?O:-O,f=L(n-p);L(f-O)<C?(s.point(p,d=0<(d+t)/2?g:-g),s.point(v,d),s.lineEnd(),s.lineStart(),s.point(c,d),s.point(n,d),h=0):v!==c&&O<=f&&(L(p-v)<C&&(p-=v*C),L(n-c)<C&&(n-=c*C),r=d,o=t,l=F((e=p)-(i=n)),d=L(l)>C?y((F(r)*(a=R(o))*F(i)-F(o)*(u=R(r))*F(e))/(u*a*l)):(r+o)/2,s.point(v,d),s.lineEnd(),s.lineStart(),s.point(c,d),h=0),s.point(p=n,d=t),v=c},lineEnd:function(){s.lineEnd(),p=d=NaN},clean:function(){return 2-h}}},function(n,t,e,r){var i;if(null==n)i=e*g,r.point(-O,i),r.point(0,i),r.point(O,i),r.point(O,0),r.point(O,-i),r.point(0,-i),r.point(-O,-i),r.point(-O,0),r.point(-O,i);else if(L(n[0]-t[0])>C){var o=n[0]<t[0]?O:-O;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])},[-O,-g]);function ot(i,o){var j=R(i),p=0<j,d=L(j)>C;function v(n,t){return R(n)*R(t)>j}function g(n,t,e){var r=V(n),i=V(t),o=[1,0,0],u=H(r,i),a=$(u,u),l=u[0],c=a-l*l;if(!c)return!e&&n;var f=j*a/c,s=-j*l/c,h=H(o,u),p=J(o,f),d=J(u,s);U(p,d);var v=h,g=$(p,v),y=$(v,v),m=g*g-y*($(p,p)-1);if(!(m<0)){var w=X(m),_=J(v,(-g-w)/y);if(U(_,p),_=B(_),!e)return _;var b,x=n[0],E=t[0],S=n[1],M=t[1];E<x&&(b=x,x=E,E=b);var N=E-x,k=L(N-O)<C,A=k||N<C;if(!k&&M<S&&(b=S,S=M,M=b),A?k?0<S+M^_[1]<(L(_[0]-x)<C?S:M):S<=_[1]&&_[1]<=M:O<N^(x<=_[0]&&_[0]<=E)){var P=J(v,(-g+w)/y);return U(P,p),[_,B(P)]}}}function y(n,t){var e=p?i:O-i,r=0;return n<-e?r|=1:e<n&&(r|=2),t<-e?r|=4:e<t&&(r|=8),r}return tt(v,function(a){var l,c,f,s,h;return{lineStart:function(){s=f=!1,h=1},point:function(n,t){var e,r=[n,t],i=v(n,t),o=p?i?0:y(n,t):i?y(n+(n<0?O:-O),t):0;if(!l&&(s=f=i)&&a.lineStart(),i!==f&&(e=g(l,r),(b(l,e)||b(r,e))&&(r[0]+=C,r[1]+=C,i=v(r[0],r[1]))),i!==f)h=0,i?(a.lineStart(),e=g(r,l),a.point(e[0],e[1])):(e=g(l,r),a.point(e[0],e[1]),a.lineEnd()),l=e;else if(d&&l&&p^i){var u;o&c||!(u=g(r,l,!0))||(h=0,p?(a.lineStart(),a.point(u[0][0],u[0][1]),a.point(u[1][0],u[1][1]),a.lineEnd()):(a.point(u[1][0],u[1][1]),a.lineEnd(),a.lineStart(),a.point(u[0][0],u[0][1])))}!i||l&&b(l,r)||a.point(r[0],r[1]),l=r,f=i,c=o},lineEnd:function(){f&&a.lineEnd(),l=null},clean:function(){return h|(s&&f)<<1}}},function(n,t,e,r){w(r,i,o,e,n,t)},p?[0,-i]:[-O,i-O])}function ut(r){return function(n){var t=new at;for(var e in r)t[e]=r[e];return t.stream=n,t}}function at(){}function lt(n,t,e){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=o&&n.clipExtent(null),v(e,n.stream(xn));var u=xn.result(),a=Math.min(r/(u[1][0]-u[0][0]),i/(u[1][1]-u[0][1])),l=+t[0][0]+(r-a*(u[1][0]+u[0][0]))/2,c=+t[0][1]+(i-a*(u[1][1]+u[0][1]))/2;return null!=o&&n.clipExtent(o),n.scale(150*a).translate([l,c])}at.prototype={constructor:at,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ct=16,ft=R(30*I);function st(n,t){return+t?function(P,j){function O(n,t,e,r,i,o,u,a,l,c,f,s,h,p){var d=u-n,v=a-t,g=d*d+v*v;if(4*j<g&&h--){var y=r+c,m=i+f,w=o+s,_=X(y*y+m*m+w*w),b=D(w/=_),x=L(L(w)-1)<C||L(e-l)<C?(e+l)/2:z(m,y),E=P(x,b),S=E[0],M=E[1],N=S-n,k=M-t,A=v*N-d*k;(j<A*A/g||.3<L((d*N+v*k)/g-.5)||r*c+i*f+o*s<ft)&&(O(n,t,e,r,i,o,S,M,x,y/=_,m/=_,w,h,p),p.point(S,M),O(S,M,x,y,m,w,u,a,l,c,f,s,h,p))}}return function(i){var e,r,o,u,a,l,c,f,s,h,p,d,v={point:n,lineStart:t,lineEnd:y,polygonStart:function(){i.polygonStart(),v.lineStart=m},polygonEnd:function(){i.polygonEnd(),v.lineStart=t}};function n(n,t){n=P(n,t),i.point(n[0],n[1])}function t(){f=NaN,v.point=g,i.lineStart()}function g(n,t){var e=V([n,t]),r=P(n,t);O(f,s,c,h,p,d,f=r[0],s=r[1],c=n,h=e[0],p=e[1],d=e[2],ct,i),i.point(f,s)}function y(){v.point=n,i.lineEnd()}function m(){t(),v.point=w,v.lineEnd=_}function w(n,t){g(e=n,t),r=f,o=s,u=h,a=p,l=d,v.point=g}function _(){O(f,s,c,h,p,d,r,o,e,u,a,l,ct,i),(v.lineEnd=y)()}return v}}(n,t):(e=n,ut({point:function(n,t){n=e(n,t),this.stream.point(n[0],n[1])}}));var e}var ht,pt=ut({point:function(n,t){this.stream.point(n*I,t*I)}});function dt(n){var i,o,u,a,l,t,e,r,c,f,s=150,h=480,p=250,d=0,v=0,g=0,y=0,m=0,w=null,_=it,b=null,x=en,E=.5,S=st(k,E);function M(n){return[(n=l(n[0]*I,n[1]*I))[0]*s+o,u-n[1]*s]}function N(n){return(n=l.invert((n[0]-o)/s,(u-n[1])/s))&&[n[0]*T,n[1]*T]}function k(n,t){return[(n=i(n,t))[0]*s+o,u-n[1]*s]}function A(){var n,t,e;l=W((n=g,t=y,e=m,a=(n%=q)?t||e?W(Q(n),Z(t,e)):Q(n):t||e?Z(t,e):K),i);var r=i(d,v);return o=h-r[0]*s,u=p+r[1]*s,P()}function P(){return c=f=null,M}return M.stream=function(n){return c&&f===n?c:c=pt(_(a,S(x(f=n))))},M.clipAngle=function(n){return arguments.length?(_=+n?ot(w=n*I,6*I):(w=null,it),P()):w*T},M.clipExtent=function(n){return arguments.length?(x=null==n?(b=t=e=r=null,en):nn(b=+n[0][0],t=+n[0][1],e=+n[1][0],r=+n[1][1]),P()):null==b?null:[[b,t],[e,r]]},M.scale=function(n){return arguments.length?(s=+n,A()):s},M.translate=function(n){return arguments.length?(h=+n[0],p=+n[1],A()):[h,p]},M.center=function(n){return arguments.length?(d=n[0]%360*I,v=n[1]%360*I,A()):[d*T,v*T]},M.rotate=function(n){return arguments.length?(g=n[0]%360*I,y=n[1]%360*I,m=2<n.length?n[2]%360*I:0,A()):[g*T,y*T,m*T]},M.precision=function(n){return arguments.length?(S=st(k,E=n*n),P()):X(E)},M.fitExtent=function(n,t){return lt(M,n,t)},M.fitSize=function(n,t){return lt(M,[[0,0],n],t)},function(){return i=n.apply(this,arguments),M.invert=i.invert&&N,A()}}function vt(n,t){var e=F(n),r=(e+F(t))/2;if(L(r)<C)return function(n){var e=R(n);function t(n,t){return[n*e,F(t)/e]}return t.invert=function(n,t){return[n/e,D(t*e)]},t}(n);var i=1+e*(2*r-e),o=X(i)/r;function u(n,t){var e=X(i-2*r*F(t))/r;return[e*F(n*=r),o-e*R(n)]}return u.invert=function(n,t){var e=o-t;return[z(n,L(e))/r*l(e),D((i-(n*n+e*e)*r*r)/(2*r))]},u}function gt(){return(n=vt,t=0,e=O/3,r=dt(n),i=r(t,e),i.parallels=function(n){return arguments.length?r(t=n[0]*I,e=n[1]*I):[t*T,e*T]},i).scale(155.424).center([0,33.6442]);var n,t,e,r,i}function yt(n){return n}function mt(n,t){var e=t.id,r=t.bbox,i=null==t.properties?{}:t.properties,o=function(n,t){var o=function(n){if(null==n)return yt;var o,u,a=n.scale[0],l=n.scale[1],c=n.translate[0],f=n.translate[1];return function(n,t){t||(o=u=0);var e=2,r=n.length,i=new Array(r);for(i[0]=(o+=n[0])*a+c,i[1]=(u+=n[1])*l+f;e<r;)i[e]=n[e],++e;return i}}(n.transform),u=n.arcs;function i(n,t){t.length&&t.pop();for(var e=u[n<0?~n:n],r=0,i=e.length;r<i;++r)t.push(o(e[r],r));n<0&&function(n,t){for(var e,r=n.length,i=r-t;i<--r;)e=n[i],n[i++]=n[r],n[r]=e}(t,i)}function a(n){return o(n)}function l(n){for(var t=[],e=0,r=n.length;e<r;++e)i(n[e],t);return t.length<2&&t.push(t[0]),t}function e(n){for(var t=l(n);t.length<4;)t.push(t[0]);return t}function c(n){return n.map(e)}return function n(t){var e,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(n)};case"Point":e=a(t.coordinates);break;case"MultiPoint":e=t.coordinates.map(a);break;case"LineString":e=l(t.arcs);break;case"MultiLineString":e=t.arcs.map(l);break;case"Polygon":e=c(t.arcs);break;case"MultiPolygon":e=t.arcs.map(c);break;default:return null}return{type:r,coordinates:e}}(t)}(n,t);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}"undefined"!=typeof window?window:void 0!==mr||"undefined"!=typeof self&&self,function(n,t){n.exports=function(){return function(n){var t=n instanceof Array?[]:{};return function n(t,e){for(var r in t){var i=t[r];if(i instanceof Array){var o=[],u=a(e,r,o);n(i,u)}else if(i instanceof Object&&"function"!=typeof i){var o={},u=a(e,r,o);n(i,u)}else{var o=i;a(e,r,o)}}}(n,t),t};function a(n,t,e){return n instanceof Array?(n.push(e),n[n.length-1]):n instanceof Object?(n[t]=e,n[t]):void 0}}()}(ht={exports:{}},ht.exports),n.cartogram=function(){var I=8,L=gt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7]),z=function(n){return{}},R=function(n){return 1};function e(t,n){t=D(t);for(var e,r,i,o=V(t.transform),u=t.arcs.length,a=0,l=new Array(u);a<u;){for(r=e=0,d=t.arcs[a].length,v=0,i=new Array(d);v<d;)t.arcs[a][v][0]=e+=t.arcs[a][v][0],t.arcs[a][v][1]=r+=t.arcs[a][v][1],i[v]=null===L?o(t.arcs[a][v]):L(o(t.arcs[a][v])),v++;l[a++]=i}var c=nt().projection(null),f=B(l,{type:"GeometryCollection",geometries:n}).geometries.map(function(n){return{type:"Feature",id:n.id,properties:z.call(null,n,t),geometry:n}}),s=f.map(R),h=Y(s);if(I<=0)return f;for(var p=0;p++<I;){for(var d,v,g,y,m,w,_,b,x,E,S,M,N,k,A=f.map(c.area),P=Y(A),j=0,O=0,C=f.map(function(n,t){var e=Math.abs(A[t]),r=+s[t],i=P*r/h,o=Math.sqrt(e/Math.PI),u=Math.sqrt(i/Math.PI)-o,a=Math.max(e,i)/Math.min(e,i);return j+=a,O++,{id:n.id,area:e,centroid:c.centroid(n),value:r,desired:i,radius:o,mass:u,sizeError:a}}),q=j/O,T=1/(1+q),u=l.length,a=0;a<u;){for(d=l[a].length,v=0;v<d;){for(g=[0,0],y=C.length,m=0;m<y;)w=C[m].centroid,_=C[m].mass,b=C[m].radius,x=b*b,E=l[a][v][0]-w[0],S=l[a][v][1]-w[1],M=E*E+S*S,N=Math.sqrt(M),k=b<N?_*b/N:_*(M/x)*(4-3*N/b),g[0]+=k*F(S,E),g[1]+=k*X(S,E),m++;l[a][v][0]+=g[0]*T,l[a][v][1]+=g[1]*T,v++}a++}if(q<=1)break}return{features:f,arcs:l}}function F(n,t){if(0===t)return 0;var e=n/t;return 0<t?1/Math.sqrt(1+e*e):-1/Math.sqrt(1+e*e)}function X(n,t){if(0===t)return 1;var e=n/t;return 0<t?e/Math.sqrt(1+e*e):-e/Math.sqrt(1+e*e)}function D(n){return n instanceof Array?n.map(D):"string"==typeof n||"number"==typeof n?n:t(n)}function t(n){var t={};for(var e in n)t[e]=D(n[e]);return t}function B(o,n){function i(n,t){t.length&&t.pop();for(var e=o[n<0?~n:n],r=0,i=e.length;r<i;++r)t.push(e[r]);n<0&&a(t,i)}function t(n){for(var t=[],e=0,r=n.length;e<r;++e)i(n[e],t);return t}function e(n){return n.map(t)}function r(n){return(n=Object.create(n)).coordinates=u[n.type](n.arcs),n}var u={LineString:t,MultiLineString:e,Polygon:e,MultiPolygon:function(n){return n.map(e)}};return"GeometryCollection"===n.type?((n=Object.create(n)).geometries=n.geometries.map(r),n):r(n)}function a(n,t){for(var e,r=n.length,i=r-t;i<--r;)e=n[i],n[i++]=n[r],n[r]=e}function r(n){return function(){return n}}e.path=nt().projection(null),e.iterations=function(n){return arguments.length?(I=n,e):I},e.value=function(n){return arguments.length?(R="function"==typeof n?n:r(n),e):R},e.projection=function(n){return arguments.length?(L=n,e):L},e.feature=function(n,t){return{type:"Feature",id:t.id,properties:z.call(null,t,n),geometry:{type:t.type,coordinates:(e=n,r=t,"GeometryCollection"===r.type?{type:"FeatureCollection",features:r.geometries.map(function(n){return mt(e,n)})}:mt(e,r)).geometry.coordinates}};var e,r},e.features=function(t,n){return n.map(function(n){return e.feature(t,n)})},e.properties=function(n){return arguments.length?(z="function"==typeof n?n:r(n),e):z};var V=e.transformer=function(n){var t=n.scale[0],e=n.scale[1],r=n.translate[0],i=n.translate[1];function o(n){return[n[0]*t+r,n[1]*e+i]}return o.invert=function(n){return[(n[0]-r)/t,(n[1]-i)/e]},o};return e},Object.defineProperty(n,"__esModule",{value:!0})}(t)})),xr=_r(function(n,t){"undefined"!=typeof self&&self,n.exports=function(e){var r={};function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}return i.m=e,i.c=r,i.d=function(n,t,e){i.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:e})},i.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return i.d(t,"a",t),t},i.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},i.p="",i(i.s=0)}([function(n,t,e){var r,i,o,u;u=function(n,t,e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(n){var t=n.stateInit,r=void 0===t?function(){return{}}:t,e=n.props,i=void 0===e?{}:e,o=n.methods,a=void 0===o?{}:o,u=n.aliases,l=void 0===u?{}:u,c=n.init,f=void 0===c?function(){}:c,s=n.update,h=void 0===s?function(){}:s,p=Object.keys(i).map(function(n){return new g(n,i[n])});return function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=Object.assign({},r instanceof Function?r():r,{initialised:!1});function u(n){return e(n,t),i(),u}var e=function(n,t){f.call(u,n,o,t),o.initialised=!0},i=(0,d.default)(function(){o.initialised&&h.call(u,o)},1);return p.forEach(function(n){u[n.name]=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(n,t){};return function(n){return arguments.length?(o[t]=n,r.call(u,n,o),e&&i(),u):o[t]}}(n.name,n.triggerUpdate,n.onChange)}),Object.keys(a).forEach(function(i){u[i]=function(){for(var n,t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return(n=a[i]).call.apply(n,[u,o].concat(e))}}),Object.entries(l).forEach(function(n){var t=v(n,2),e=t[0],r=t[1];return u[e]=u[r]}),u.resetProps=function(){return p.forEach(function(n){u[n.name](n.defaultVal)}),u},u.resetProps(),o._rerender=i,u}};var r,d=(r=e)&&r.__esModule?r:{default:r},v=function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return function(n,t){var e=[],r=!0,i=!1,o=void 0;try{for(var u,a=n[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!t||e.length!==t);r=!0);}catch(n){i=!0,o=n}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return e}(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},g=function n(t,e){var r=e.default,i=void 0===r?null:r,o=e.triggerUpdate,u=void 0===o||o,a=e.onChange,l=void 0===a?function(n,t){}:a;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.name=t,this.defaultVal=i,this.triggerUpdate=u,this.onChange=l};n.exports=t.default},i=[n,t,e(1)],void 0===(o="function"==typeof(r=u)?r.apply(t,i):r)||(n.exports=o)},function(n,t){n.exports=function(t,e,r){var i,o,u,a,l;function c(){var n=Date.now()-a;n<e&&0<=n?i=setTimeout(c,e-n):(i=null,r||(l=t.apply(u,o),u=o=null))}null==e&&(e=100);var n=function(){u=this,o=arguments,a=Date.now();var n=r&&!i;return i||(i=setTimeout(c,e)),n&&(l=t.apply(u,o),u=o=null),l};return n.clear=function(){i&&(clearTimeout(i),i=null)},n.flush=function(){i&&(l=t.apply(u,o),u=o=null,clearTimeout(i),i=null)},n}}])}),Er=wr(xr),Sr=(xr.Kapsule,_r(function(n,t){n.exports=function(e){function r(n){if(i[n])return i[n].exports;var t=i[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var i={};return r.m=e,r.c=i,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:e})},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=0)}([function(n,t,e){var r,i,o;i=[n,t],void 0!==(o="function"==typeof(r=function(n,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(t){return t instanceof Function?t:"string"==typeof t?function(n){return n[t]}:function(n){return t}},n.exports=t.default})?r.apply(t,i):r)&&(n.exports=o)}])})),Mr=wr(Sr),Nr=(Sr.accessorFn,br.cartogram),kr=new Er({props:{width:{default:window.innerWidth},height:{default:window.innerHeight},iterations:{default:20},projection:{default:function(e){var r,i,o,u=gr(e),t=u.center,a=u.scale,l=u.translate,c=u.clipExtent,f=null;function s(){var n=te*a(),t=u(function(t){function n(n){return(n=t(n[0]*ue,n[1]*ue))[0]*=oe,n[1]*=oe,n}return t=Ce(t[0]*ue,t[1]*ue,2<t.length?t[2]*ue:0),n.invert=function(n){return(n=t.invert(n[0]*ue,n[1]*ue))[0]*=oe,n[1]*=oe,n},n}(u.rotate()).invert([0,0]));return c(null==f?[[t[0]-n,t[1]-n],[t[0]+n,t[1]+n]]:e===yr?[[Math.max(t[0]-n,f),r],[Math.min(t[0]+n,i),o]]:[[f,Math.max(t[1]-n,r)],[i,Math.min(t[1]+n,o)]])}return u.scale=function(n){return arguments.length?(a(n),s()):a()},u.translate=function(n){return arguments.length?(l(n),s()):l()},u.center=function(n){return arguments.length?(t(n),s()):t()},u.clipExtent=function(n){return arguments.length?(null==n?f=r=i=o=null:(f=+n[0][0],r=+n[0][1],i=+n[1][0],o=+n[1][1]),s()):null==f?null:[[f,r],[i,o]]},s()}(yr).scale(961/ie).scale(Math.min((window.innerWidth-3)/(2*Math.PI),(window.innerHeight-3)/(1.2*Math.PI))).translate([window.innerWidth/2,window.innerHeight/1.5])},topoJson:{},topoObjectName:{},value:{default:1},color:{default:"lightgrey"},label:{default:""},valFormatter:{default:function(n){return n}},units:{default:""},tooltipContent:{default:function(n){return""}},onClick:{default:function(n){}}},init:function(n,t){t.cartogram=Nr().properties(function(n){return n.properties}),t.svg=V(n).append("svg").attr("class","cartogram"),t.tooltip=V("body").append("div").attr("class","chart-tooltip cartogram-tooltip"),n.addEventListener("DOMNodeRemoved",function(n){n.target===this&&t.tooltip.remove()}),t.svg.on("mousemove",function(){t.tooltip.style("left",T.pageX+"px").style("top",T.pageY+"px")})},update:function(u){var n=Mr(u.value),t=Mr(u.color);if(u.svg.attr("width",u.width).attr("height",u.height),u.topoJson){var e=u.topoJson.objects[u.topoObjectName]||Object.values(u.topoJson.objects)[0];if(e){u.cartogram.projection(u.projection).value(n);var r=u.svg.selectAll("path.feature").data(u.cartogram.iterations(1)(u.topoJson,e.geometries).features);r.exit().remove();var i=r.enter().append("path").attr("class","feature").style("fill","lightgrey").attr("d",u.cartogram.path).on("mouseover",function(n){var t=Mr(u.value),e=Mr(u.label),r=Mr(u.tooltipContent),i=e(n),o=r(n);u.tooltip.style("display","inline"),u.tooltip.html("\n          "+(i?"<b>"+i+"</b>:":"")+"\n          "+u.valFormatter(t(n))+"\n          "+u.units+"\n          "+(o?"<br/><br/>"+o:"")+"\n        ")}).on("mouseout",function(){u.tooltip.style("display","none")}).on("click",function(n){return u.onClick(n)});r.merge(i).data(u.cartogram.iterations(u.iterations)(u.topoJson,e.geometries).features).transition().duration(1200).style("fill",t).attr("d",u.cartogram.path)}else console.warn("Unable to find topology object in TopoJson")}}});return function(n,t){void 0===t&&(t={});var e=t.insertAt;if(n&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===e&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}(".cartogram .feature {\n    stroke: darkgrey;\n    transition: fill-opacity .7s;\n    cursor: pointer;\n}\n\n.cartogram .feature:hover {\n    fill-opacity: 0.6;\n    transition: fill-opacity .1s;\n}\n\n.cartogram-tooltip {\n    display: none;\n    position: absolute;\n    max-width: 320px;\n    margin-top: 20px;\n    margin-left: 8px;\n    padding: 5px;\n    border-radius: 3px;\n    font: 11px sans-serif;\n    color: #eee;\n    background: rgba(0, 0, 0, 0.65);\n    pointer-events: none;\n}"),kr});